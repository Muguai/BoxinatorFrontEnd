<div id="cardContainer">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Scandinavian Countries</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form #editRateScandinaviaForm="ngForm" (ngSubmit)="onSubmitScandinavia(editRateScandinaviaForm)">
                <div class="split">
                    <mat-form-field>
                        <mat-label>Rate</mat-label>
                        <input matInput required [ngModel]="scandinavia.rate" name="rate"
                        #scandinavianRate type="number" [placeholder]="'Current: ' + scandinavia.rate.toString()">
                    </mat-form-field>
                    <!-- disabled if value is the original value or no value is given -->
                    <button mat-flat-button color="accent"
                    type="submit" [disabled]="(scandinavia.rate === scandinavianRate.valueAsNumber
                    || editRateScandinaviaForm.invalid)">Save</button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
    
    <mat-card>
        <mat-card-header>
            <mat-card-title>Other Countries</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form #editRateForm="ngForm" (ngSubmit)="onSubmit(editRateForm)">
                <mat-form-field class="fullWidth">
                    <mat-label>Select country</mat-label>
                    <mat-select #country name="country" ngModel>
                        <mat-option *ngFor="let country of countries"
                        [value]="country">{{country.name}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <div class="split">
                    <mat-form-field>
                        <mat-label>Rate</mat-label>
                        <input matInput required [ngModel]="country.value?.rate" name="rate"
                        #rate type="number" [disabled]="!country.value" [placeholder]="'Current: ' + country.value?.rate">
                    </mat-form-field>
                    <!-- disabled if value is the original value, no value is given or value is lower than the scandinavian rate -->
                    <button mat-flat-button color="accent" type="submit"
                    [disabled]="(country.value?.rate === rate.valueAsNumber || editRateForm.invalid ||
                    rate.valueAsNumber <= scandinavia.rate)"
                    >Save</button>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>
